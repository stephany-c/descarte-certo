<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Slick CSS -->
    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.7.1/slick.css" />
    <!-- Slick Theme CSS -->
    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.7.1/slick-theme.css" />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <title>Descarte Certo!</title>
    <link rel="icon" type="image/png" href="imagens/logo.ico" />
</head>

<body>

    <header>
        <input type="checkbox" id="control-nav"/>
  
              <label for="control-nav" class="control-nav"></label>
              <label for="control-nav" class="control-nav-close"></label>
              <img src="imagens/logoo-removebg.png" class="logo">
              <nav class="float-r">
  
              <ul class="list-auto">
                 <li>
                    <a href="index.html" title="Chaves">Home</a>
                 </li>
                 <li>
                    <a href="cadastro.html" title="Chiquinha">Cadastro</a>
                 </li>
                 <li>
                    <a href="#" title="Seu Madruga">Perfil</a>
                 </li>
                 <li>
                    <a href="mapa.html" title="Quico">Descartes</a>
                 </li>
                 <li>
                    <a href="login.html"><button id="menu_account--button" type="button" class="btn btn-success">Entrar</button></a>
                    <div class="row">
                       <div id="menu_account--name" class="col-12">
                          <p></p>
                          <button id="menu_account--logout" type="button" class="btn btn-danger">Sair</button>
                       </div>
                    </div>
                 </li> 
              </ul>
           </nav>
           <div>
              <h1>DESCARTE COM CONSCIÊNCIA</h1>
            </div>
      </header>

    <main class="container-fluid main">

        <h4>Encontre os pontos de Coleta Seletiva mais próximos a você</h4>

        <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="customSwitch1">
            <label class="custom-control-label" for="customSwitch1">Visualizar endereço cadastrado</label>
        </div>

        <div class="mapa">
            <style>
                #map {
                    width: 100%;
                    height: 500px;
                }
            </style>
            <div>
                <div id="map"></div>

                <script>
                    function initMap() {
                        if ("geolocation" in navigator) {

                        navigator.geolocation.getCurrentPosition(function(position){

                        var locations = [
                            ['Minha Localização', position.coords.latitude, position.coords.longitude],
                            ['Praça Sete', -19.919124786602957, -43.9386291030576],
                            ['Brasil Industrial', -19.998422970728413, -44.01414909971543],
                            ['Lourdes', -19.923147705142785, -43.936448551385055],
                            ['São Lucas', -19.930271616209808, -43.92416764082524],
                            ['Aparecida', -19.89024469873254, -43.96569254686181],
                        ];

                        const user = JSON.parse(localStorage.getItem('user') ?? '');
                        if (user?.location?.latitude && user?.location?.longitude) {
                            locations.push(['Meu endereço', user.location.latitude, user.location.longitude]);
                        }

                        var map = new google.maps.Map(document.getElementById('map'), {
                            zoom: 16,
                            center: { lat: position.coords.latitude, lng: position.coords.longitude },
                            mapTypeId: google.maps.MapTypeId.ROADMAP
                        });

                        // Define window variables
                        window.map = map;
                        window.currentGeolocation = { lat: position.coords.latitude, lng: position.coords.longitude };

                        var infowindow = new google.maps.InfoWindow();

                        var marker, i;

                        for (i = 0; i < locations.length; i++) {
                            marker = new google.maps.Marker({
                                position: new google.maps.LatLng(locations[i][1], locations[i][2]),
                                map: map
                            });

                            google.maps.event.addListener(marker, 'click', (function (marker, i) {
                                return function () {
                                    infowindow.setContent(locations[i][0]);
                                    infowindow.open(map, marker);
                                }
                            })(marker, i));
                        }
                        }) 
                        }
                    }
                    
                </script>
                <script
                    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAT542zYsbxTmvsXH40IoNdmeIm0eeIMSU&callback=initMap&libraries=&v=weekly"
                    async></script>
            </div>
        </div>

        <div class="col-12 mt-5 frequentemente_descartados">
            <h4>Frequentemente descartados</h4>
            <div class="fd-content mt-4">
                <div class="fd-list">
                    <div>
                        <div class="fd-list-item">
                            <img src="imagens/frequentemente-descartados/bateria-celular.png" />
                            <button type="button" class="btn btn-success">Onde?</button>
                            <p>Bateria de celular</p>
                        </div>
                    </div>
                    <div>
                        <div class="fd-list-item">
                            <img src="imagens/frequentemente-descartados/bau-madeira.png" />
                            <button type="button" class="btn btn-success">Onde?</button>
                            <p>Baú de madeira</p>
                        </div>
                    </div>
                    <div>
                        <div class="fd-list-item">
                            <img src="imagens/frequentemente-descartados/copo-plastico.png" />
                            <button type="button" class="btn btn-success">Onde?</button>
                            <p>Copo de plástico</p>
                        </div>
                    </div>
                    <div>
                        <div class="fd-list-item">
                            <img src="imagens/frequentemente-descartados/garrafa-vidro.png" />
                            <button type="button" class="btn btn-success">Onde?</button>
                            <p>Garrafa de vidro</p>
                        </div>
                    </div>
                    <div>
                        <div class="fd-list-item">
                            <img src="imagens/frequentemente-descartados/laptop-antigo.png" />
                            <button type="button" class="btn btn-success">Onde?</button>
                            <p>Laptop antigo</p>
                        </div>
                    </div>
                    <div>
                        <div class="fd-list-item">
                            <img src="imagens/frequentemente-descartados/lata1.png" />
                            <button type="button" class="btn btn-success">Onde?</button>
                            <p>Lata 350ml</p>
                        </div>
                    </div>
                    <div>
                        <div class="fd-list-item">
                            <img src="imagens/frequentemente-descartados/talheres-plastico.png" />
                            <button type="button" class="btn btn-success">Onde?</button>
                            <p>Talheres plástico</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer class="container-fluid footer">
        <div class="row">

            <div class="col-12 footer_area">
                Descarte Certo! - Todos os direitos reservados - 2021
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8"
        crossorigin="anonymous"></script>
    <!-- JQuery 3.6.0 -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- Slick js -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.7.1/slick.js"></script>
    <!-- Main js -->
    <script src="js/main.js"></script>
    <!-- Create default users -->
    <script src="js/createDefaultUser.js"></script>
</body>

</html>